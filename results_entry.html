<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Clemz Academy School - Student Results Management</title>
<!-- Include jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
  /* Basic Reset & Body Style */
  body {
    font-family: Arial, sans-serif;
    background-color: #f0f8ff; /* Light sky blue background */
    margin: 0;
    padding: 0;
    color: #000;
  }

  /* Header Styles */
  header {
    background-color: #87ceeb; /* Sky blue header */
    padding: 15px 20px;
    text-align: center;
  }
  header h1 {
    margin: 0;
    color: #000;
    font-size: 24px;
  }
  nav {
    margin-top: 10px;
  }
  nav a {
    color: black;
    text-decoration: none;
    margin: 0 10px;
    font-weight: bold;
  }
  nav a:hover {
    color: red;
  }
  /* Main Content */
  main {
    padding: 20px;
  }
  /* Form styling */
  form {
    background-color: #ffffffcc; /* semi-transparent white */
    padding: 20px;
    border-radius: 8px;
    max-width: 950px;
    margin: auto;
  }
  h2 {
    text-align: center;
    color: #0066cc;
  }
  /* Input Fields */
  input[type="text"],
  input[type="number"] {
    width: calc(50% - 20px);
    padding: 8px 10px;
    margin: 5px 0 15px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  fieldset {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 20px;
  }
  legend {
    font-weight: bold;
    padding: 0 10px;
  }
  /* Buttons */
  button {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    margin: 10px 0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  button:hover {
    background-color: #0069d9;
  }
  /* Table styling */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }
  th, td {
    border: 1px solid #999;
    padding: 10px;
    text-align: center;
  }
  th {
    background-color: #b0c4de; /* light steel blue */
  }
  /* For better readability */
  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  /* Footer */
  footer {
    background-color: #87ceeb;
    text-align: center;
    padding: 10px 0;
    margin-top: 30px;
  }
</style>
</head>
<body>
<header>
<h1>Clemz Academy School - Student Results Management</h1>
<nav>
<a href="index.html">Home</a>
<a href="about.html">About</a>
<a href="services.html">Services</a>
<a href="blog.html">Blog</a>
<a href="contact.html">Contact</a>
<a href="login.html">Login</a>
<a href="logout.html">Logout</a>
<a href="results.html">Results</a>
</nav>
</header>
<main>
<h2>Add Student Result</h2>
<form id="resultForm">
<!-- Student Info -->
<label>Student ID:</label><br />
<input type="text" id="studentId" required /><br />
<label>Name:</label><br />
<input type="text" id="studentName" required /><br />
<label>Class:</label><br />
<input type="text" id="studentClass" required /><br />
<!-- Subjects -->
<fieldset>
<legend>Enter Marks for Subjects</legend>
<label>Mathematics:</label><br />
<input type="number" id="subject_math" min="0" max="100" required /><br />
<label>English Studies:</label><br />
<input type="number" id="subject_english" min="0" max="100" required /><br />
<label>Hausa/Yoruba:</label><br />
<input type="number" id="subject_hausa" min="0" max="100" required /><br />
<label>Social Studies:</label><br />
<input type="number" id="subject_social" min="0" max="100" required /><br />
<label>Christian Religious Studies:</label><br />
<input type="number" id="subject_crs" min="0" max="100" required /><br />
<label>Home Economics:</label><br />
<input type="number" id="subject_home" min="0" max="100" required /><br />
<label>Physical & Health Education:</label><br />
<input type="number" id="subject_phe" min="0" max="100" required /><br />
<label>Basic Technology:</label><br />
<input type="number" id="subject_basictech" min="0" max="100" required /><br />
<label>Agricultural Science:</label><br />
<input type="number" id="subject_agriculture" min="0" max="100" required /><br />
<label>Computer Science:</label><br />
<input type="number" id="subject_computer" min="0" max="100" required /><br />
<label>Business Studies:</label><br />
<input type="number" id="subject_business" min="0" max="100" required /><br />
<label>Creative Arts:</label><br />
<input type="number" id="subject_arts" min="0" max="100" required /><br />
<label>Civic Education:</label><br />
<input type="number" id="subject_civic" min="0" max="100" required /><br />
</fieldset>
<button type="submit">Add Result</button>
</form>
<!-- Results Table -->
<h2>Results List</h2>
<table id="resultsTable">
<tr>
<th>Student ID</th>
<th>Name</th>
<th>Class</th>
<th>Total Score</th>
<th>Average</th>
<th>Grade</th>
<th>Eff.</th>
<th>Psych.</th>
</tr>
<!-- Results will be populated here dynamically -->
</table>
<!-- Buttons for PDF download and print -->
<div style="margin-top:20px; text-align:center;">
<button id="downloadPdf">Download PDF</button>
<button onclick="window.print()">Print</button>
</div>
</main>
<footer>
<p>&copy; 2025 Clemz Academy School</p>
</footer>
<!-- Scripts -->
<script>
  // Handle form submission: add data, calculate total, avg, assign grade
document.getElementById('resultForm').addEventListener('submit', function(e) {
  e.preventDefault();
  // Collect all subject marks
  const subjects = [ parseFloat(document.getElementById('subject_math').value), parseFloat(document.getElementById('subject_english').value), parseFloat(document.getElementById('subject_hausa').value), parseFloat(document.getElementById('subject_social').value), parseFloat(document.getElementById('subject_crs').value), parseFloat(document.getElementById('subject_home').value), parseFloat(document.getElementById('subject_phe').value), parseFloat(document.getElementById('subject_basictech').value), parseFloat(document.getElementById('subject_agriculture').value), parseFloat(document.getElementById('subject_computer').value), parseFloat(document.getElementById('subject_business').value), parseFloat(document.getElementById('subject_arts').value), parseFloat(document.getElementById('subject_civic').value),
  ]
  // Calculate total and average
  const total = subjects.reduce((sum, val) => sum + val, 0);
  const average = (total / subjects.length).toFixed(2);
  // Determine grade
  let grade = '';
  if (average >= 70) grade = 'A';
  else if (average >= 60) grade = 'B+';
  else if (average >= 50) grade = 'B';
  else if (average >= 45) grade = 'C+';
  else if (average >= 40) grade = 'C';
  else grade = 'F';
  // Default grades for effectiveness and psychomotor
  const effectiveGrade = 'Good'; 
  const psychomotorGrade = 'Excellent';
  // Insert into table
  const table = document.getElementById('resultsTable');
  const row = table.insertRow();
  row.insertCell().innerText = document.getElementById('studentId').value;
  row.insertCell().innerText = document.getElementById('studentName').value;
  row.insertCell().innerText = document.getElementById('studentClass').value;
  row.insertCell().innerText = total.toFixed(2);
  row.insertCell().innerText = average;
  row.insertCell().innerText = grade;
  row.insertCell().innerText = effectiveGrade;
  row.insertCell().innerText = psychomotorGrade; document.getElementById('resultForm').reset();
});
// Function to generate PDF report using jsPDF
document.getElementById('downloadPdf').addEventListener('click', function() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  // Add title
  doc.setFontSize(16);
  doc.text('Clemz Academy School - Student Results', 14, 20);
  // Set table headers
  const headers = ['ID', 'Name', 'Class', 'Total', 'Avg', 'Grade', 'Eff.', 'Psych.'];
  const colWidths = [20, 30, 20, 30, 20, 20, 25, 25];
  let startX = 14;
  let startY = 30;
  // Draw headers
  doc.setFontSize(10);
  headers.forEach((h, i) => {
    doc.text(h, startX, startY);
    startX += colWidths[i];
  });
  // Data Rows
  const table = document.getElementById('resultsTable');
  const rows = table.getElementsByTagName('tr');
  let y = startY + 10;
  for (let i = 1; i < rows.length; i++) {
    const cells = rows[i].getElementsByTagName('td');
    let x = 14;
    for (let j = 0; j < cells.length; j++) {
      const text = cells[j].innerText;
      doc.text(text, x, y);
      x += colWidths[j];
    }
    y += 10;
    if (y > 280 && i !== rows.length - 1) {
      doc.addPage();
      y = 20; // Reset y for new page
    }
  }
  // Save PDF
  doc.save('StudentResults.pdf');
});
</script>
</body>
</html>